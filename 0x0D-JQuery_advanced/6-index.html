<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
	<script src="http://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
	<meta charset="utf-8" />
	<title>Task 6</title>

</head>

<body>

</body>

<script type="application/javascript">

	function createFamilyTree() {
		$('body').append('<table><thead><tr><th>Firstname</th><th>Lastname</th></tr></thead></table>').find('table').first().append('<tbody></tbody>')
	}

	function addNewMember(firstName, lastName, position) {
		//		$('table').find('tbody').first().append('<tr><td>' + firstName + '</td><td>' + lastName + '</td> <td>(X)</td></tr>');

		if (position === 'before') {
			$('body').find('tbody').first().prepend(`<tr><td>${firstName}</td><td>${lastName}</td> <td>(X)</td></tr>`);
		} else {
			$('body').find('tbody').first().append(`<tr><td>${firstName}</td><td>${lastName}</td> <td>(X)</td></tr>`);
		}

		const check = $('tbody').find('tr').last();
		check.find('td').click(function () {
			check.remove();
		});
		check.find('td').last().css('background-color', 'orange')

	}

	function createForm() {
		const input = '<input type="text"><input type="text">';
		const select = '<select> <option value="before">Before</option><option value="after">After</option>';
		const submit = '<input type="submit">';

		function submitBtn() {
			const firstName = $('input:nth-of-type(1)').val();
			const lastName = $('input:nth-of-type(2)').val();
			const position = $('option:selected').first().text();
			addNewMember(firstName, lastName, position);
		}
		$('table').first().before(input + select + submit);
		$('body').find('input').last().click(submitBtn);
	}


	createFamilyTree();
	createForm();

</script>

</html>